/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package aipr;

import java.io.IOException;
import java.net.SocketTimeoutException;
import java.util.ArrayList;
import java.util.Map;
import java.util.concurrent.TimeUnit;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

import static java.lang.System.exit;

public class App {


    public static void main(String[] args) throws IOException, InterruptedException {
        OpenAiServe ai = new OpenAiServe();
        CExtractor.extractcimmit("/mnt/c/code/");
        Map<String, ArrayList<String>> map = CExtractor.cimmitMap;
        for(String x: map.keySet()) {

            for(int i=0; i < map.get(x).size(); i++) {
                if (map.get(x).get(i).contains("initial commit")) {
                    continue;
                }
                System.out.println(x);
                ai.makeRequest(map.get(x).get(i));
                TimeUnit.SECONDS.sleep(3);
            }

        }
        System.out.println("Success, all changes have been commented, Have a nice day.");
        //ai.makeRequest(map.get("commit 59daef8d55de04b91434b39d4411a7939107645b").get(0));


    }
}
